---
title: "No such file or directory - /tmp/mysql.sock"
kind: article
created_at: 2007-02-13 10:10:00
author: hardy
tags: ruby, mysql
---
  <p>Here comes a maybe not so high level bit, but it nevertheless cost me a lost of time the other day to figure out what was going on.<br /><br />Long story short - I am recently experimenting with ruby on rails and and kept getting the following error message each single time I wanted to scaffold any of my database tables:<br /><br /><span style="font-style: italic;">No such file or directory - /tmp/mysql.sock</span><br /><br />I am running Windows XP together with cygwin. Ruby is installed via cygwin and MySQL is installed via the MySQL windows installer.<br /><br />It was pretty obvious ruby could not connect to my database, but I could not figure out why. The file <span style="font-style: italic;">mysql.sock</span> did not exist on my system and I could not figure out how to get ruby to access the database via tcp/ip. Some people suggested adding <span style="font-style: italic;">port: 3306</span> to <span style="font-style: italic;">database.yml</span> , but that did not change anything.<br /><br />Then finally the breakthrough. I changed <span style="font-style: italic;">host: localhost </span>in <span style="font-style: italic;">database.yml </span>to <span style="font-style: italic;">host: 127.0.0.1 </span>and everything worked like a charm. It turns out that when specifying <span style="font-style: italic;">localhost</span> ruby tries to connect via a socket file whereas specifying a IP address switches to tcp/ip. Interesting.<br /><br />So long,<br />--Hardy</p><div class="old-comments"><h2>Old comments</h2><div class="one-old-comment"><span class="comment-date">2007-02-17</span><span class="commenter-name">Andr√© Miani</span><div class="comment-body">I'm using linux and got the same error but in my case I solved cleaning the username and password field name in config/database.yml, logged as root ... if its bad I dont know but its works.</div></div><div class="one-old-comment"><span class="comment-date">2007-02-17</span><span class="commenter-name">Hardy Ferentschik</span><div class="comment-body">I found this on in the mysql documentation:<BR/><BR/><I><BR/>Note that if you specify localhost as a hostname, mysqladmin defaults to using a Unix socket file connection rather than TCP/IP. From MySQL 4.1 onward, you can explicitly specify the connection protocol to use by using the --protocol={TCP|SOCKET|PIPE|MEMORY} option.<BR/></I><BR/><BR/>See <A HREF="http://dev.mysql.com/doc/refman/5.0/en/multiple-unix-servers.html" REL="nofollow">Running Multiple Servers on Unix</A></div></div><div class="one-old-comment"><span class="comment-date">2008-06-09</span><span class="commenter-name">ndgiang84</span><div class="comment-body">same problem here. in /config/database.yml just change the host: localhost to host: 127.0.0.1<BR/><BR/>then my problem solved. hope this helps.</div></div><div class="one-old-comment"><span class="comment-date">2008-09-29</span><span class="commenter-name">Anonymous</span><div class="comment-body">Thank you for taking the time to post this solution!  Saved me a bunch of time.</div></div><div class="one-old-comment"><span class="comment-date">2010-12-07</span><span class="commenter-name">Ace Suares</span><div class="comment-body">Life Saver! Thx!</div></div><div class="one-old-comment"><span class="comment-date">2012-08-17</span><span class="commenter-name">Robert Malvern</span><div class="comment-body">I could have spend days trying to work this out!</div></div></div>