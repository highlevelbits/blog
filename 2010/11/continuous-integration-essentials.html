<!DOCTYPE HTML>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<title>high level bits - Continuous Integration Essentials</title>
<link href="http://fonts.googleapis.com/css?family=Iceland%7CVolkhov" rel="stylesheet" type="text/css">
<link href="../../awesome/font-awesome-min.css" rel="stylesheet">
<link href="../../style.css" rel="stylesheet">
<link href="../../forms.css" rel="stylesheet">
<link rel="alternate" type="application/atom+xml" title="high level bits" href="../../atom.xml">
<!-- you don't need to keep this, but it's cool for stats! --><meta name="generator" content="nanoc 3.6.8">
<!-- google analytics --><script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-1370334-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script><!-- end google analytics -->
</head>
<body>
    <div class="main">
      <div class="header">
        <div class="twitter-window">
          <a href="https://twitter.com/highlevelbits" class="twitter-follow-button" data-show-count="false" data-size="large">Follow @highlevelbits</a>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</div>
        <a href="../../">
          <h1>h1ghlevelb1ts</h1>
        </a>
      </div>
      <div class="menu">
        <a href="../../">home</a>
        ·
        <a href="../../archive.html">archive</a>
        ·
        <a href="http://about.me/hardyferentschik">hardy</a>
        ·
        <a href="http://about.me/fredrik.rubensson">fredrik</a>
      </div>
      <div class="content">
        <h2 class="article-header">
  Continuous Integration Essentials
</h2>
<div>
  <span class="byline">2010-11-13 by fredrik</span>
  
    <span class="tags">
      
        <a class="one-tag" href="../../tags/software-craftsmanship.html" rel="tag"><span class="icon-tag"></span>software craftsmanship</a>
      
    </span>
  
</div>
<div class="inner-content">
<p>This is a short text about continuous integration. It serves as a companion to a lightning talk I do on the subject. In this text I will first try to define it, then move on to a short discussion and finally end with some encouragement and perhaps call to action.</p>
<p>When <b>defining</b> the concept "continuous integration" it is easy to use a bit too many words. I started to think along the lines of "to verify as much as possible as often as possible" but it was a little bit too noisy. After several iterations I decided on the dense:</p>
<div style="text-align: center;"><b>verify often</b></div>
<div style="text-align: left;">It is small enough to not be a formal definition. Formal definitions are often a bit far away from the real thing. This short form can also be remembered easily. So continuous integration is for this article defined as "verify often". Lets have a look at what we can <b>verify</b>. What first springs to mind is to check that the code base is fine. With a static language the first thing to do is to compile the code so that syntactic errors are found. After that unit tests can be run to verify the semantics of the code. With a dynamic language the syntax is verified implicitly with the unit tests. They will simply not run if there are syntactic errors in the code. With this in place we move on to automatic installation of the system in an environment that resembles the target environment and then perform integration and system tests. (And whatever you call your different test levels in your organization.) Almost all kinds of tests are possibly to automate. The exception of course is the visual look and feel of a graphic interface.</div>
<div style="text-align: left;"> </div>
<div style="text-align: left;">With testing in place and a sense of security that most bugs would be detected in any of the different test suites we can move on to automated deployment. For several kinds of systems it is possible to <b>continuously deploy</b> into production. For other kinds it is not possible at all.</div>
<div style="text-align: left;"> </div>
<div style="text-align: left;">So how <b>often</b> is it possible to verify at all these levels? It would be great to do it all on commit and it is indeed possible for smaller systems. The sooner word gets back to the developer that something is wrong the better. It will be fresh in his/her mind and it is often easily fixed. Bugs that are detected after several weeks or even months are much harder to track down and correct. Examples on how different verifiables have different rythm are depicted in the following diagram.</div>
<div style="text-align: center;"><a href="http://www.flickr.com/photos/froderik/5171062041/" title="verify meets often by freddie boy, on Flickr"><img alt="verify meets often" height="297" src="http://farm5.static.flickr.com/4111/5171062041_8d968a6f0f.jpg" width="500"></a></div>
<div>Keep in mind that this is just an example. As said earlier it is good to push as much verification as possible as close to the code creation as possible. To let this be a design force is actually good for a systems architecture in the long run. You will end up with loosely coupled system parts.</div>
<div> </div>
<div>There are several common objections to continuous integration. The common ones are either about expense or hard-to-test systems. This is definitely valid objections to make but I am sure that you have heard about them before so let me give the <b>discussion</b> part another twist instead. I have played around with a couple of graphs to illustrate the benefits of continuous integration. The first one shows how a developer typically views his work:</div>
<div style="text-align: center;"><a href="http://www.flickr.com/photos/froderik/5171061415/" title="developer view progress by freddie boy, on Flickr"><img alt="developer view progress" height="346" src="http://farm5.static.flickr.com/4124/5171061415_78dec2a773.jpg" width="500"></a></div>
<div>Work starts with the code, functionality increases over time and finally a release is made. This is - of course - almost never true but many a developer probably have this view nevertheless and finds ways to blame the surrounding for any shortcomings. Maybe other developers were not that good. Or the specs were incorrect. It is always easy to project the blame somewhere else when working in a complex software project.</div>
<div> </div>
<div>Consider the following graph instead. It is the view product owners and managers get for a typical software project.</div>
<div style="text-align: center;"><a href="http://www.flickr.com/photos/froderik/5171061659/" title="percieved progress from outside by freddie boy, on Flickr"><img alt="percieved progress from outside" height="384" src="http://farm5.static.flickr.com/4131/5171061659_b592ddd8de.jpg" width="500"></a></div>
<div>As you can see the software is only transparent at iteration ends. This is when something is released for testing. The armada of test personnel - that typically spend most of their days planning (tremendous waste of resources that) - now gets the chance to test and - if lucky - the project is on track and the next iteration commences. In worse cases the software coming out of the first iteration is completely useless and the project is late from the beginning.</div>
<div> </div>
<div>Apparently there is a big gap between developers view of the world and manager type peoples corresponding view. The good news is that the power is with the developers. If they want to they can make sure that continuous integration happens and that managers get good insight into the actual progress. (Managers typically don't understand that continuous integration actually are a very good thing for them.) And make the world look a bit more like this.</div>
<div style="text-align: center;"><a href="http://www.flickr.com/photos/froderik/5171663126/" title="percieved and actual progress by freddie boy, on Flickr"><img alt="percieved and actual progress" height="354" src="http://farm5.staticflickr.com/4132/5171663126_11e829dac9.jpg" width="500"></a></div>
<div style="text-align: left;"> </div>
<div style="text-align: left;">Nirvana - with continuous integration the actual and the perceived progress is the same. It is a good situation for everyone involved. And the good news again is that developers are needed to make it happen. Automation is basically what developers do all the time and continuous integration is just another kind of automation.</div>
<div style="text-align: left;"> </div>
<div style="text-align: left;">Finally a moment of <b>encouragement</b> with nice pics and all. In many settings the task of setting up a nice continuous </div>
<div style="text-align: left;">
<a href="http://www.flickr.com/photos/jarkkos/423296318/" style="float:right; padding: 1em;" title="Busy at work by JarkkoS, on Flickr"><img alt="Busy at work" height="240" src="http://farm1.static.flickr.com/155/423296318_37495d54d7_m.jpg" width="240"></a>integration environment may seem like an impossible task. It may actually be the case that it is not possible to get a centralized place for automation in some organizations. I sure have worked at such places myself. This is not however an excuse to do nothing at all. There are always something that can be done. With a bit of cron and a bit of shell script you can have your own hand made continuous integration server. Set up a bit of compiling or a bit of automated system environment installing. Let it sink in and get acceptance - then move on and automate something else. Set up a hudson instance on your own machine and show it to your peers. They might shrug their shoulders but at least you tried.</div>
<p><a href="http://www.flickr.com/photos/whsimages/1877849503/" style="float:left; padding:1em;" title="Band in the Country by Wisconsin Historical Images, on Flickr"><img alt="Band in the Country" height="187" src="http://farm3.static.flickr.com/2070/1877849503_4870764100_m.jpg" width="240"></a></p>
<br><div style="text-align: left;">Sometimes it feels that we work in organizations from the 19th century. The thinking and the doing has stayed along from a distant time. Stuff are being done and not done because of tradition rather than for good reasons. This is not an excuse to not be awesome. Your own work could always be of the highest quality regardless of what low and strange expectations there is in the organizations. Unit testing can be a part of your way to develop even if there is "no way unit tests gets into the version control system". Just do it anyway. Eventually someone will notice that your code comes with quality compared to others and that it doesn't slow you down. And sooner or later you will leave the place anyway so better leave it with some great practices in place.</div>
<div style="text-align: left;"> </div>
<div style="text-align: left;">Finally some words about our managers. Keep in mind who is paying and who is doing the fun work. Let them get a great view on the progress in exchange for paying for your work. Shouldn't be that hard should it?</div>
<div style="text-align: left;"> </div>
<div style="text-align: left;">The talk that accompanies this post was first held at <a href="http://www.javaforum.se/jf/archive.jsp#m67">javaforum Stockholm on the 10th of November</a> and will be held at <a href="http://www.devoxx.com/display/Devoxx2K10/Continuous+integration+essentials">devoxx on the 18th</a>. Future engagements with this talk will be posted in this space (as well as on twitter).</div>
<div style="text-align: left;"> </div>
<div class="old-comments">
<h2>Old comments</h2>
<div class="one-old-comment">
<span class="comment-date">2010-11-15</span><span class="commenter-name">Hardy Ferentschik</span><div class="comment-body">I personally run even a local (as in 127.0.0.1) Hudson instance. Why? Firstly I can build the system independently of my current checkout which means I can trigger a <i>sanity check</i> build, in case nothing works anymore. I also have multiple different configuration running for example against multiple databases (MySQL, PostgreSQL or H2). For each project I also have a build which integrates <a href="http://www.sonarsource.org/" rel="nofollow">Sonar</a>, helping me to continuously improve the quality of my code.<br>You could argue that this should be the job of QA, but what if the QA team sucks? Why not being proactive and become the authoritative person in your company when it comes to continuous integration?</div>
</div>
</div>
</div>

<div class="dashed-top-border">
  <!-- disqus -->
  <div id="disqus_thread"></div>
  <script type="text/javascript">
      /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
      var disqus_shortname = 'highlevelbits'; // required: replace example with your forum shortname

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
  </script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  <!-- end disqus -->
</div>

      </div>
      <div class="footer">
        high level bits was brought to you by
        <a href="http://about.me/hardyferentschik">hardy</a>
        and
        <a href="http://about.me/fredrik.rubensson">fredrik</a>
      </div>
    </div>
  </body>
</html>
