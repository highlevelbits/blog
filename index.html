<!DOCTYPE HTML>
<html lang="en">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <title>high level bits - </title>
    <link href="http://fonts.googleapis.com/css?family=Iceland%7CVolkhov" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="awesome/font-awesome-min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="alternate" type="application/atom+xml" title="high level bits" href="atom.xml">

    <!-- you don't need to keep this, but it's cool for stats! -->
    <meta name="generator" content="nanoc 3.6.2">

    <!-- google analytics -->
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-1370334-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
    <!-- end google analytics -->
  </head>
  <body>
    <div class="main">
      <div class="header">
        <div class="twitter-window">
          <a href="https://twitter.com/highlevelbits" class="twitter-follow-button" data-show-count="false" data-size="large">Follow @highlevelbits</a>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
        </div>
        <h1>h1ghlevelb1ts</h1>
      </div>
      <div class="menu">
        <a href="./">home</a>
        ·
        <a href="archive.html">archive</a>
        ·
        <a href="http://about.me/hardyferentschik">hardy</a>
        ·
        <a href="http://about.me/fredrik.rubensson">fredrik</a>
      </div>
      <div class="content">
        <div class="start-page">
  <div class="start-page-article">
    <div class="row">
      <h2 class="article-header">
        <a href="2013/09/go_error_handling_thoughts.html">thoughts about error handling with go</a>
      </h2>
      <div class="byline">
        by
        fredrik
        on
        2013-09-30
      </div>
    </div>
    <p>I find myself with this code line lots of time:</p>

<pre><code>if err != nil { return err }
</code></pre>

<p>Sometimes with an extra return value - sometimes not. However - the go formatter likes it to be:</p>

<pre><code>if err != nil {
    return err
}
</code></pre>

<p>which is my preferred way to write it normally. Now I have started to use the one-liner approach to make my code more readable. In a simple database sequence you may need to check the error 3 or more times (getting the database, executing the query and scanning the response for data) so the error handling <em>noise</em> will be 3 or 9 lines of such a function. In my mind there is a conflict between explicit code and readable code. Go seems to drive me towards explicit code forcing me to leave some of my coding practices behind.</p>

<p>Please contribute your thoughts about this in the comments section below.</p>
    <center>
      ------
    </center>
    <div class="outro">
      <i>
        Even though this was the entire post you may want to leave a comment on the
        <a href="2013/09/go_error_handling_thoughts.html">post page</a>
        .
      </i>
    </div>
  </div>
  <div class="start-page-article">
    <div class="row">
      <h2 class="article-header">
        <a href="2013/09/golang_templating_engine.html">go templating - the basics</a>
      </h2>
      <div class="byline">
        by
        fredrik
        on
        2013-09-28
      </div>
    </div>
    <p><a href="http://www.flickr.com/photos/29363671@N08/4264734398"><img style="float:right" src="http://farm3.staticflickr.com/2723/4264734398_f89371801a.jpg"></a></p>

<p>I am busy coding a web site with <a href="http://golang.org/">go</a>. I am still not convinced that go is the best choice for web development unless performance is in high demand. It is still great fun to learn a new language and a language that have different opinions on many things compared to other languages. This kind of experiences are very good to move forward as a developer. So kudos to <a href="http://www.flatwallet.se/">flatwallet</a> that lets me learn go while getting paid for it. </p>

<p>We try to use as much as possible of the standard library but sometimes it is hard as I <a href="http://highlevelbits.com/2013/09/pragmatic_unit_testing_with_go.html">described in my post about testing</a>. When it comes to web development there is a good enough <a href="http://golang.org/pkg/text/template/">template engine</a> that provides with the simplest things to get stuff into your <a href="http://highlevelbits.com/2012/04/control-your-markup.html">markup</a>. In mainstream template engines the normal way to get behavior into your template is to use <code>&lt;% %&gt;</code> for executing some code and <code>&lt;%= %&gt;</code> for getting some stuff inserted into the generated markup. In go you use double curly braces instead. So in order to insert a value you go <code>{{.Value}}</code>. The single point is a reference to the data structure (remember - no objects in go) that was passed to the template from the back end code and value is a field in that structure. There is the basic control flow things like:</p>

<pre><code>{{ if .IsActive }}
  Active
{{ else }}
  Inactive
{{ end }}
</code></pre>

<p>and loops:</p>

<pre><code>{{ range .Books }}
  &lt;div&gt;
    {{ .Title }} by {{ .Author }}
  &lt;/div&gt;
{{ end }}
</code></pre>

<p>When using <code>range</code> the <code>.</code> context is set to the current item for each loop over the collection. As you see you just mix curly braces with HTML freely. (So that it looks really messy to the eye….) Since the templating doesn’t conflict with the markup you can also use them in attribute values. This may look nasty at times:</p>

<pre><code>&lt;div class="{{if .IsActive}}active{{else}}passive{{end}}"/&gt;
</code></pre>

<p>Not to my liking. The alternative is to add another field to the page structure and calculate the value in the go code instead. It adds a bit of duplication and the number of line increases and I am not sure the overall readability goes up. So the above may actually be a good choice at times. In this particular case it has the benefit of keepin css classes in the markup. Indeed - you could do it like this just as well:</p>

<pre><code>{{ if .IsActive }}
  &lt;div class="active"/&gt;
{{ else }}
  &lt;div class="passive"/&gt;
{{ end }}
</code></pre>

<p>Better or worse? This is a simple div with nothing else in it but consider a real world situation where there are some content inside etc. Then it may be better to go with the compact solution instead. Things like these may be good to put in the coding guidelines for a project. (You all do them - right?!?)</p>

<p>You can define a template with <code>{{ define "my_template" }} &lt;html&gt;....&lt;/html&gt; {{ end }}</code> for both whole pages and parts in a page. Say you define a header partial: <code>{{ define "header" }}&lt;div&gt;Menus and other header stuffs.&lt;/div&gt;{{ end }}</code> then you can use it in another template with: <code>{{ template "header" }}</code>. So that is kind of neat. There is no support for layouts so for solving that in the standard library way you’ll have to do it yourself with functions calling different templates in different contexts. </p>

<p>One more thing. You can use <code>with</code> to get deeper in the context of the page. Like this:</p>

<pre><code>{{ range .Books }}
  &lt;div&gt;
    {{ .Title }} by 
    {{ with .Author }}
      {{ .FirstName }}{{ .LastName }}
    {{ end }}
  &lt;/div&gt;
{{ end }}
</code></pre>

<p>I haven’t used this much but it has the benefit of getting evaluated only if there is something in the referenced value. So it is a combined <code>if</code> statement with a scope narrower.</p>

<p>Then there is a bunch of built-in functions that makes life a bit easier. The one that has bothered me most is <code>call</code> that lets you call a function from within the template. But not any function. It must either have been previously tied to the template with calls to <code>Funcs</code> with a <code>FuncMap</code> or be in the global namespace. So if you have a nice little function tied to the struct you are exposing to your template you can not use it right away. I find this limiting - the extra code to set it up can just as well be used to introduce another variable in the struct that holds the computed value. You end up with redundant data in your model where parts are ‘real’ data and parts are computed values. I don’t have a perfect <em>feel</em> for this yet and will come back to review it later and maybe another post about advanced templating.</p>

<p>The standard library documentation is really good. The templating basics is in the <a href="http://golang.org/pkg/text/template/">text/template package</a> while there are some added things for web pages in the <a href="http://golang.org/pkg/text/template/">html/template package</a>. This separation is obviously good so that you can do templating inside whatever format you work with.</p>

<p>Engine photo by <a href="http://www.flickr.com/photos/29363671@N08/">Jon Pekelnicky</a>.</p>
    <center>
      ------
    </center>
    <div class="outro">
      <i>
        Even though this was the entire post you may want to leave a comment on the
        <a href="2013/09/golang_templating_engine.html">post page</a>
        .
      </i>
    </div>
  </div>
  <div class="start-page-article">
    <div class="row">
      <h2 class="article-header">
        <a href="2013/09/baruco_day_2.html">baruco day two [conference report]</a>
      </h2>
      <div class="byline">
        by
        fredrik
        on
        2013-09-15
      </div>
    </div>
    <p><img style="float:right" src="http://assets2013.baruco.org/assets/logo-3ff2130df4d6cf11e8bd7f1e3d72bb6d.png"></p>

<p>The nice organisers thought it wise to start the second day an hour later. Surely a blessing for the first speaker. </p>

<p>The keynote by Paolo Perrotta was entertaining and thought provoking. Spanning such wide topics as the discovery of how to calculate longitudes, distant forefathers crawling up from the sea and the horrors of SOAP, Paolo made a good shot at comparing progress in the software discipline with the evolution of mankind and maybe just maybe the future will be more functional than the present.</p>

<p>Apart from the keynote the talks were more technical this day. The future of jruby, rubymotion for iOS coding, a bit of clojure, tender love shaving a yak. That sort of thing. </p>

<p>Rather than listing all the talks I will focus on my takeaways from the conference:</p>

<ul>
  <li>functional programming is on the move. I heard a lot about that object orientation has become the way to code in the 21st century. But there are some issues that are not solved that well with object orientation. It doesn’t scale nicely and it seems that it is next to impossible to write larger systems with the technique. Functional has some characteristics that makes it attractive for the upcoming challenges. It is highly scalable (due to immutability) and it is really great for testing. THat functional sort of ‘appears’ at a Ruby conference is a good sign that it is up and coming.</li>
  <li>a sense of fatigue and maturity. Look how far we have come in our field, that is great but many things still suck and we are bit tired. Hopefully a conference like this one can reeenergize and help us move on. The needs for decent software creation will not diminish in neither the close nor the distant future.</li>
  <li>maybe use jruby in production?!?</li>
  <li>there were several talks about the quality without a name. How do we go about producing software that can stay around for a while? Since I have been interested in these things since late 90s I didn’t learn much but it gives me hope that good practices are preached at a conference like this one. How to penetrate the breadth of developers out there is still largely an unknown.</li>
</ul>

<p>To sum up: a really nice conference moulded in the standard format. The communication flows mainly in one direction with breaks and parties making it possible to interact a bit further. This bothers me more and more with conferences - I would prefer a bit more interactivity. This time I sneaked away a bit prematurely feeling numb from all the listening. So sadly I missed the lightning talks - I am sure this was one of the best parts of the conference.</p>

<p>Luckily I booked a further two days in Barcelona so now that the conference is over I will find out more about the city. It looks really nice so far! I had good food both nights at random restaurants and I stay at a really <a href="https://sv.airbnb.com/rooms/1159801">nice airbnb</a>.</p>
    <center>
      ------
    </center>
    <div class="outro">
      <i>
        Even though this was the entire post you may want to leave a comment on the
        <a href="2013/09/baruco_day_2.html">post page</a>
        .
      </i>
    </div>
  </div>
</div>

      </div>
      <div class="footer">
        high level bits was brought to you by
        <a href="http://about.me/hardyferentschik">hardy</a>
        and
        <a href="http://about.me/fredrik.rubensson">fredrik</a>
      </div>
    </div>
  </body>
</html>
