<!DOCTYPE HTML>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<title>high level bits - </title>
<link href="http://fonts.googleapis.com/css?family=Iceland%7CVolkhov" rel="stylesheet" type="text/css">
<link href="awesome/font-awesome-min.css" rel="stylesheet">
<link href="style.css" rel="stylesheet">
<link href="forms.css" rel="stylesheet">
<link rel="alternate" type="application/atom+xml" title="high level bits" href="atom.xml">
<!-- you don't need to keep this, but it's cool for stats! --><meta name="generator" content="nanoc 3.6.5">
<!-- google analytics --><script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-1370334-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script><!-- end google analytics -->
</head>
<body>
    <div class="main">
      <div class="header">
        <div class="twitter-window">
          <a href="https://twitter.com/highlevelbits" class="twitter-follow-button" data-show-count="false" data-size="large">Follow @highlevelbits</a>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</div>
        <h1>h1ghlevelb1ts</h1>
      </div>
      <div class="menu">
        <a href="./">home</a>
        ·
        <a href="archive.html">archive</a>
        ·
        <a href="http://about.me/hardyferentschik">hardy</a>
        ·
        <a href="http://about.me/fredrik.rubensson">fredrik</a>
      </div>
      <div class="content">
        <div class="start-page">
  <div class="start-page-article">
    <div class="row">
      <h2 class="article-header">
        <a href="2013/11/post-agile.html">the postagile world</a>
      </h2>
      <div class="byline">
        by
        fredrik
        on
        2013-11-23
      </div>
    </div>
  </div>
  <p>The lines of thoughts in this post started with <a href="http://www.antman.se/">Peter Antman</a> inviting to a meeting to discuss a new thing called #notest - a very interesting subject clearly. I felt an urge to rant a bit about this #no trend and thus this tweet:</p>

<blockquote class="twitter-tweet" lang="en">
<p>the new thing after agile is to put "no" in front of standard practices: <a href="https://twitter.com/search?q=%23noestimates&amp;src=hash">#noestimates</a>, <a href="https://twitter.com/search?q=%23notest&amp;src=hash">#notest</a>, <a href="https://twitter.com/search?q=%23noprocess&amp;src=hash">#noprocess</a>, <a href="https://twitter.com/search?q=%23nomanagement&amp;src=hash">#nomanagement</a> but never <a href="https://twitter.com/search?q=%23nocode&amp;src=hash">#nocode</a></p>— Fredrik Rubensson (@froderik) <a href="https://twitter.com/froderik/statuses/403235228589637632">November 20, 2013</a>
</blockquote>
<script async="" src="//platform.twitter.com/widgets.js" charset="utf-8"></script>

<p>Normally when I rant on twitter I get no responses but this time my tweet spawned two separate threads that <a href="https://twitter.com/froderik/status/403235228589637632">merged together after a while</a>. Both threads questioned that agile is something of the past. And maybe they are right. I don’t know. What I do know is that everyone wants to be agile these days. Agile has won. But at the same time agile has lost its controversy. When I look at the agile manifesto today I just feel that “yeah - this is how I work - this how I react even”. And I am sure many developers feel the same way. The manifesto was hugely important when it came. It summarized a couple of good process oriented movements in 4 points. These 4 things is not much more than common sense really. The reason it was needed was due to the monstrous processes that had grown in strength during the 90s and that threatened to suffocate the entire business. Now agile has been embraced by many. I consulted for a large organisation some years back that claimed to aim for being best in the agile class yet they had no agile practices whatsoever in sight. I then deduced that the word <em>agile</em> for many had come down to just mean <em>good</em>. We work in an agile/good way. And no one wants to work in a bad way. Suddenly some of the old <em>bad</em> practices also makes it into the agile portfolio.</p>

<p><strong>Nowadays I just want to get things done. If the process stays in the way it has to go. Agile or not.</strong></p>

<p>We now live and work in a postagile world. Agile has won and now we have to find out how to improve our work within that mindset. We also need to protect the gains that has been made over the years. Lets have a look at each part of the manifesto.</p>

<h1 id="individuals-and-interactions-over-processes-and-tools">Individuals and interactions over processes and tools</h1>

<p>The morning meeting and the retrospective has won. Most team work in this way now. We have to beware of getting value out of the morning meeting. In my last team we tried to talk about each thing on the board rather than walk through all the persons. It worked well with a senior team. With a new team it may be better to just go the round. A tight team may decide to skip morning meetings altogether. They are just there to make sure that communication happens. </p>

<p>Sadly enough we are more likely to find morning meetings in a team than retrospectives. The tool for continuous improvement that takes place outside the daily loop is of course very important to get anywhere. In the postagile world we need to make sure that we don’t miss out on retrospectives and the opportunity to improve our process continuously. We also need to guard against the agenda of tool vendors. I recently heard that one of my old clients were about to implement a planning to tool to help them with their agile process. Sigh…</p>

<h1 id="working-software-over-comprehensive-documentation">Working software over comprehensive documentation</h1>

<p>I have seen one case where a scrum-by-the-book team ended up with no documentation at all. I was asked to do an architectural review and the only material to use was source code and tickets. That was fun! In a postagile world we need to produce the artifacts that is needed. This will always be mostly source code but occasionally we will need to write a couple of documents. These documents are likely to be system overviews. How does things fit together. I like to think of <a href="http://highlevelbits.com/2009/05/software-development-as-mapping.html">this need as maps</a>. Maps to help navigate the system and the surrounding world of users and other systems. This metaphor works much better than architecture for me.</p>

<h1 id="customer-collaboration-over-contract-negotiation">Customer collaboration over contract negotiation</h1>

<p>This really is about trust. If there is no trust between the customer and me I am lost anyway. It probably is scary as hell to buy custom software since so many projects still fail so badly regardless if they are based on customer collaboration or not. In a postagile world we need to give and receieve trust and we need to educate our customers in demanding visible deliverables continuously. Still many teams are reluctant to deliver things soon and many customers don’t want to get that involved. That need to change. Customers must involve themselves in the delivery rythm of their software team and the team need to be verbose about their progress and more importantly about their obstacles. There will be no true dialog about a piece of software until it is there to look at and use. It happpens all the time that the first time there is any real feedback is when the piece is in production.</p>

<h1 id="responding-to-change-over-following-a-plan">Responding to change over following a plan</h1>

<p>This one is a bit tricky. While it is normally no point in planning the future many organisations need to manage expectations about the future in some way. Plans for what features will get into future releases may be necessary to keep business. You may see this also as responding to change but it is likely that the business side of things would like to call it a plan. In a postagile world we need to make long term plans that can be abandoned when we respond to change. We need to be good at communicating this dilemma.</p>

<h1 id="what-is-this-postagile-thing-anyway">What is this postagile thing anyway</h1>

<p><a href="https://duckduckgo.com/?q=postagile">Duckduckgoing for postagile</a> gives a bunch of interesting hits. I guess people started talking about postagile even earlier than the <a href="http://www.infoq.com/news/2007/05/is-post-agile-just-agile">infoq post from 2007</a> that asks “Is Post-Agile Just Agile?”. The answer is yes. So the idea of something postagile has been around for a while.</p>

<p>My twitter ranting lead to an interesting dialog with <a href="http://zuill.us/WoodyZuill/">Woody Zuill</a> and <a href="http://www.jbrains.ca/">J. B. Rainsberger</a> to start with and then <a href="http://twitter.com/dahankzter">Henrik Johansson</a> and <a href="https://twitter.com/YvesHanoulle">Yves Hanoulle</a> joined in. After that I felt the need to rant a bit more in this post. To sum it up - this is what I have found:</p>

<p><strong>Agile is the consensus we have reached. Postagile is the task of improving our work on an agile foundation.</strong></p>
  <center>
    ------
  </center>
  <div class="outro">
    <i>
      Even though this was the entire post you may want to leave a comment on the
      <a href="2013/11/post-agile.html">post page</a>
      .
    </i>
  </div>
  <div class="start-page-article">
    <div class="row">
      <h2 class="article-header">
        <a href="2013/11/china.html">visions of china</a>
      </h2>
      <div class="byline">
        by
        fredrik
        on
        2013-11-03
      </div>
    </div>
  </div>
  <p><img src="http://farm9.staticflickr.com/8465/8372395689_1a5a353bc8_b.jpg" alt=""></p>

<p>I like numbers. This is why I often sneak into <a href="http://www.flickr.com/photos/froderik/">my flickr account</a> and look at statistics. I have had an account for almost 8 years and there has beeen som 230000 views of my almost 8500 photos. And the more photos I put up - the more views I get. The other day I got interested in a peak on 30th of october with 1622 views and I found out that a picture (shown above) I took from the dragon tower in <a href="https://en.wikipedia.org/wiki/Harbin">Harbin</a> (China) last christmas had been used in <a href="http://www.theverge.com/2013/10/30/5042534/daan-roosegaarde-vacuum-looks-to-sweep-away-china-smog-in-beijing">a <strong>the verge</strong> post</a> about the chinese smog problem. Fun! I really liked the dreamy views from up the tower created by the cold -30 degrees celsius and the coal factories. Cold and cool….</p>

<p>Another shot I am happy with is this night time view of the main railway station in Harbin.</p>

<p><img src="http://farm9.staticflickr.com/8354/8373376294_4aac9d57ba_b.jpg" alt=""></p>

<p>Some <a href="http://www.flickr.com/search/?w=36307913@N00&amp;q=harbin">more photos</a> from our days in Harbin including many of ice sculptures.</p>

<p>From Harbin we got to Beijing by train. We only had two days there but still enough to get a good view of the forbidden palace and the wall. We had some luck with the weather the day when <a href="http://www.flickr.com/search/?w=36307913@N00&amp;q=great%20wall">we went out to the wall</a> - cold and sunny!</p>

<p><img src="http://farm9.staticflickr.com/8214/8441104536_a18c490d83_b.jpg" alt=""></p>

<p>Our visit to the forbidden palace was in very cloudy weather so no nice pictures from there. Night time in the old parts of Beijing on the other hand is something extra. It is rather dark - not much street lihtning but you still fell safe. Probably because there are much people around. The photo below is from a restaurant street where we had some nice hot pot!</p>

<p><img src="http://farm9.staticflickr.com/8193/8440607785_e90fb36635_b.jpg" alt=""></p>

<p>For more chinese goodness you can browse all <a href="http://www.flickr.com/search/?w=36307913@N00&amp;q=china">my photos from China</a>.</p>
  <center>
    ------
  </center>
  <div class="outro">
    <i>
      Even though this was the entire post you may want to leave a comment on the
      <a href="2013/11/china.html">post page</a>
      .
    </i>
  </div>
  <div class="start-page-article">
    <div class="row">
      <h2 class="article-header">
        <a href="2013/10/single_point_logging.html">single point logging with go</a>
      </h2>
      <div class="byline">
        by
        fredrik
        on
        2013-10-03
      </div>
    </div>
  </div>
  <p>I’ll continue to spam you with <a href="http://golang.org/">go</a> related posts. I am working on a rather small webapp built with go. Despite it being small we have still managed to code differently in different parts of the application. Logging is one such issue that we decided to do something about the other day. At the same time it was good to improve on the error handling which often goes hand in hand with logging. In the midst of this some external forces (operations….) tells us that we should use a <strong>logging server</strong> for logging. Not right away mayhaps but eventually. This led us to go for our own logging functions so that we can change the implementation in one place. So we needed to get some common things into the log. User name (or some way to keep track of one call to the system), a timestamp, the code line where the logging occurred and the message itself. A normal application log file more or less. </p>

<p>To call our own logger we thought something like <code>LogInfo(user User, message string, args... interface{})</code> looked nice with corresponding functions for Error and Debug. The first implementation was easy enough:</p>

<pre><code>func LogInfo(message string, args ...interface{}) {
  log.Printf("INFO | " + message, args...)
}
</code></pre>

<p>But wait? What happens with the code line number? It will point to our logger function and that is not what we intended. We would like the line nubmer to be where the call to LogInfo occurred. At this point in time it was very handy to have the source code available for the standard library. <code>Printf</code> does not care about line numbers and such - it just prints whatever line it is invoked on. Underneath the <code>Printf</code> function there are a <code>Logger</code> type that defines an <code>Output</code> function called by printf. So lets start with constructing a <code>Logger</code>:</p>

<pre><code>func Logger() *log.Logger {
  return log.New( os.Stderr, "", log.Lshortfile | log.Ldate | log.Ltime )
}
</code></pre>

<p>The first argument to <code>New</code> is a writer. For now we are happy to write to Stderr. The second is a prefix to use when logging - we don’t care about it now - probably useful when you log from several things to the same file. Lastly we tell the standard library what we want to log - a short file description with line number and a timestamp. Find the available options under the <em>const</em> part in the log package documentation. Now all we need to do is to call the <code>Output</code> function on the logger.</p>

<pre><code>func LogInfo(message string, args ...interface{}) {
  calldepth := 3 // the distance to the actual call for logging
  Logger().Output(calldepth, "INFO | " + fmt.Sprintf(message, args...))
}
</code></pre>

<p>and use it to log some stuff:</p>

<pre><code>LogInfo("%s %s", "some", "stuff")
</code></pre>

<p>The <code>calldepth</code> here is basically what part of the stack that makes it as a code line into the block. The standard library uses 2 so it made sense to add one to get to the right position for us. The standard library uses <code>runtime.Caller</code> to get to this information. There are other functions to get to the stack also in the <code>runtime</code> package.</p>

<p>In the real world we passed in info about our user, extracted log message creation to its own function and added functions for error and debug. We also had one set of functions accepting a user and one set not accepting a user. We also did <a href="http://stackoverflow.com/q/19115273/135673">some thinking</a> about if it was possible to log something like a thread id and came to the conclusion that it isn’t possible in go. I got a <a href="http://stackoverflow.com/a/19116962/135673">nice answer</a> from <a href="http://stackoverflow.com/users/41344/rog">rog</a> and here is the first part:</p>

<blockquote>
  <p>Because of the high potential for abuse, there is no way to access an identifier for the current goroutine in Go. This may 
seem draconian, but this actually preserves an important property of the Go package ecosystem: <em>it does not matter if you 
start a new goroutine to do something</em>.</p>
</blockquote>

<p>A good explanation and in line with the go way of doing things. I can find it a bit limiting at times but it is almost always for a good reason which makes it easier to accept.</p>

<p>As a side note - the go community is very helpful. Using the #golang tag on twitter for asking questions renders some nice answers and discussions. Very useful. And <a href="http://stackoverflow.com">stackoverflow</a> is a good resource as always.</p>
  <center>
    ------
  </center>
  <div class="outro">
    <i>
      Even though this was the entire post you may want to leave a comment on the
      <a href="2013/10/single_point_logging.html">post page</a>
      .
    </i>
  </div>
</div>

      </div>
      <div class="footer">
        high level bits was brought to you by
        <a href="http://about.me/hardyferentschik">hardy</a>
        and
        <a href="http://about.me/fredrik.rubensson">fredrik</a>
      </div>
    </div>
  </body>
</html>
