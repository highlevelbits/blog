<!DOCTYPE HTML>
<html lang="en">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <title>high level bits - </title>
    <link href="http://fonts.googleapis.com/css?family=Iceland%7CVolkhov" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="awesome/font-awesome-min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="alternate" type="application/atom+xml" title="high level bits" href="atom.xml">

    <!-- you don't need to keep this, but it's cool for stats! -->
    <meta name="generator" content="nanoc 3.6.2">

    <!-- google analytics -->
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-1370334-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
    <!-- end google analytics -->
  </head>
  <body>
    <div class="main">
      <div class="header">
        <div class="twitter-window">
          <a href="https://twitter.com/highlevelbits" class="twitter-follow-button" data-show-count="false" data-size="large">Follow @highlevelbits</a>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
        </div>
        <h1>h1ghlevelb1ts</h1>
      </div>
      <div class="menu">
        <a href="./">home</a>
        ·
        <a href="archive.html">archive</a>
        ·
        <a href="http://about.me/hardyferentschik">hardy</a>
        ·
        <a href="http://about.me/fredrik.rubensson">fredrik</a>
      </div>
      <div class="content">
        <div class="start-page">
  <div class="start-page-article">
    <div class="row">
      <h2 class="article-header">
        <a href="2013/05/agila_sverige.html">agila sverige 2013</a>
      </h2>
      <div class="byline">
        by
        fredrik
        on
        2013-05-21
      </div>
    </div>
    <p>It was time for my second <a href="http://www.agilasverige.se">agila sverige</a>. I attended three years ago and wrote <a href="highlevelbits.com/2010/05/agila-sverige-reflections.html%E2%80%8E">a couple</a> <a href="www.highlevelbits.com/2010/05/agila-sverige-day-2-refelections.html%E2%80%8E">of reports</a> so I will try to do something similar this year.</p>

<p>A difference this year was finding me on the speakers list. My talk was about not writing too much dry code and it went very well. I got very nice and insightful comments afterwards so I am happy about it. <a href="http://www.flickr.com/photos/aigle_dore/5951683083"><img src="http://farm7.staticflickr.com/6123/5951683083_7f15fe4bba.jpg" style="float:left"></a> It was some time since I did this kind of public speaking so I was a bit nervous. But as always I got comments on how calm I seemed. I am apparently good at hiding my nervousness. I definitely need to do this more often.</p>

<p>A theme that hasn’t gone away since the last time I attended is the reorientation of <em>old</em> roles in the new agile world. The old way of thinking in roles seems to be hard to get rid of. This year I sense that the focus on management has faded a bit. Maybe the roles <em>product owner</em> and <em>scrum master</em> has settled a bit? I heard other say the opposite so maybe I just avoided those sessions. Talking about testing prevails as before but it seems like test automation (and automation overall) is more of a given now. A definite trend is the need to talk about requirements gathering. I suspect that teams that has been doing agile for a while have a clear sense of lacking overview images/sketches/diagrams of their system. On the other hand what does <em>doing agile</em> even mean these days….?!?</p>

<p>Some talks worthy of mention (that would be all talks but then this post would be sooooo long):</p>

<ul>
  <li>
<a href="http://www.impactmapping.org/">Impact mapping</a> was one of the new things for me. <a href="http://blog.staffannoteberg.com/">Staffan Nöteberg</a> kicked of the conference by using it to explain how to avoid expensive no-result projects.</li>
  <li>
<a href="http://blog.crisp.se/author/peterantman">Peter Antman</a> talked about <a href="http://blog.crisp.se/2013/05/20/peterantman/software-development-and-tragedy-of-the-commons">code ownership and the tragedy of the commons</a>. Stuffed with references to high knowledge he ended with a list of things that can make <em>commons</em> work.</li>
  <li>One entire talk in rhyme by <a href="http://www.marcusoft.net/">Marcus Hammarberg</a> about always failing when introducing an agile way of working in large organisation.</li>
  <li>
<a href="https://twitter.com/m8rt">Martin Christensen</a> had an improved version of the user story format that looked really nice.</li>
  <li>
<a href="http://jimmyjanlen.wordpress.com/">Jimmy Janlén</a> alias the evil coach made a great performance about how to continue <em>bad</em> practices in the name of agile. Very entertaining.</li>
  <li>How to shave that yak <a href="http://www.flickr.com/photos/bdearth/4881180471"><img src="http://farm5.staticflickr.com/4081/4881180471_3628d6b4ff_m.jpg" style="float:right"></a> was explained in a humorous yet thought provoking way by <a href="https://twitter.com/gabriel_f">Gabriel Falkenberg</a>. <em>It might become hairy!</em>
</li>
  <li>The <a href="http://agical.se/">agical crew</a> represented by <a href="https://twitter.com/villesv">Ville Svärd</a> and <a href="https://twitter.com/tobbeanderberg">Tobbe Anderberg</a> presented <a href="http://mobprogramming.org/">mob programming</a>. Sort of pair programming taken one huge step further. The idea is to let the whole team program together on one (1) computer. This is truly innovative and may actually be a good thing to do. The increase in quality will be huge, the learning curve of team members drastically improved not to mention the happiness. Will it be more productive than the <em>normal</em> way? Hard to tell. Maybe not but the increase in quality may well be worth it anyway. I hope I will be able to try it soonish in some setting.</li>
  <li>
<a href="https://twitter.com/andreas_larsson">Andreas Larsson</a> declared the end of <a href="http://theagilerevolution.com/">the agile revolution</a> and prompted us to start reigning. There are no true opponents of agile left. We all like it! I wonder if this is because it has been watered out over the years or are we truly changing?</li>
  <li>The ending lightning talk was an amazing performance by <a href="https://twitter.com/adamkillander">Adam Killander</a> where he acted out a developer that had to choose between new development and maintenance. In the end he was preaching fundamentalist maintenance to the masses. Check it out in <a href="https://agilasverige.solidtango.com">them streams</a>.</li>
</ul>

<p>In addition to talks there were a bunch of open spaces of which I only attended five due to cloning incapabilities:</p>

<ul>
  <li>How to write requirements. I went to this one mostly to hear how we talk about this nowadays. I found that not much has changed but there are people executing their specs (cucumber sorta) - that was nice to hear.</li>
  <li>About getting stuck in technical decisions. We often decide what technical solution to choose based on what we user before, what skill set we have or what seems to be the common choice at the moment rather than base on what technology best suits the problem at hand. One example of this is how we user object oriented techniques to build web sites - a very functional problem space.</li>
  <li>The mob programming talk extended into a very creative open space.</li>
  <li>About competence. Andreas Larsson showed how he divides competence into the three sub parts technical, domain and personality. An interesting discussion around this.</li>
  <li>The final one was about (and with) senior developers. Why are they not in abundance? Why do many move on to other roles? How sad is it that we are losing a fair bit of knowledge in this way? Thought provoking and yet another reminder to stay in continuous learning mode.</li>
</ul>

<p>Some obligatory ending comments about <a href="http://meetingroom.se/">the venue</a>. This one works better than the old one. The two rooms used for the two tracks are next to each other so it is easy to change between in the 2 minute breaks. The food has been good and coffee has been available in abundance. The dinner was served in the main conference room which made it all stick together nicely.</p>

<p>The conference ended with sorta a retrospective. Post-its on the wall and on the chest and some mingling talking about experiences from the conference. Great to just talk about how great it was for a couple of minutes.</p>

<p>Huge amounts of thanks to the organizers.</p>
    <center>
      ------
    </center>
    <div class="outro">
      <i>
        Even though this was the entire post you may want to leave a comment on the
        <a href="2013/05/agila_sverige.html">post page</a>
        .
      </i>
    </div>
  </div>
  <div class="start-page-article">
    <div class="row">
      <h2 class="article-header">
        <a href="2013/05/camera_fun.html">cool photos</a>
      </h2>
      <div class="byline">
        by
        fredrik
        on
        2013-05-04
      </div>
    </div>
    <p>Had some fun with the camera today.</p>

<p><img src="http://farm9.staticflickr.com/8267/8708350808_05f235587c_z.jpg" alt="">
<img src="http://farm9.staticflickr.com/8418/8708352708_9a36fbda12_z.jpg" alt="">
<img src="http://farm9.staticflickr.com/8256/8708354468_e350932458_z.jpg" alt="">
<img src="http://farm9.staticflickr.com/8414/8707233857_a24b5f5555_z.jpg" alt="">
<img src="http://farm9.staticflickr.com/8400/8708357766_bd655013f5_z.jpg" alt="">
<img src="http://farm9.staticflickr.com/8279/8707236779_d7c966d82d_z.jpg" alt=""></p>
    <center>
      ------
    </center>
    <div class="outro">
      <i>
        Even though this was the entire post you may want to leave a comment on the
        <a href="2013/05/camera_fun.html">post page</a>
        .
      </i>
    </div>
  </div>
  <div class="start-page-article">
    <div class="row">
      <h2 class="article-header">
        <a href="2013/04/tdding_prime_detection.html">detecting prime numbers with Test Driven Development</a>
      </h2>
      <div class="byline">
        by
        fredrik
        on
        2013-04-23
      </div>
    </div>
    <p>This tuesday I held a half day workshop on Test Driven Development for a group of developers
at Smart Bears Stockholm office. I prepared by writing a
<a href="2013/04/what_is_tdd.html">generic post about TDD</a> explaining the main principles. During the
session we used prime number detection as an example kata. This is a very simple problem and
as such useful to show how to do proper TDD. On the other hand there isn’t much of real world
problems in there. We started with the tiniest test:</p>

<pre><code>@Test
public void oneIsPrime(){
    assertTrue("1 should be a prime", Prime.isPrime(1));
}
</code></pre>

<p>and implemented this with:</p>

<pre><code>public class Prime {
  public static boolean isPrime(int number){
    return true;
  }
}
</code></pre>

<p>This piece of code is the best thing that fulfills our test so there is no need to get into the
refactor phase at this stage. The language is called Java if you don’t recognize it.</p>

<p>The next test takes the first non prime number and test it:</p>

<pre><code>@Test
public void fourIsNotPrime(){
    assertFalse("4 should not be a prime", Prime.isPrime(4));
}
</code></pre>

<p>implemented with:</p>

<pre><code>public static boolean isPrime(int number){
    if( number == 4 ) return false;
    return true;
}
</code></pre>

<p>Now this can be refactored:</p>

<pre><code>public static boolean isPrime(int number){
    return number != 4;
}
</code></pre>

<p>Note that the refactoring doesn’t add functionality - it just makes the code easier to read. Add another
non-prime:</p>

<pre><code>@Test
public void nineIsNotPrime() {
    assertNotPrime(9);
}
</code></pre>

<p>and helper methods to make the test code a little bit easier to read:</p>

<pre><code>public void assertNotPrime(int number){
    String message = "" + number + " should not be a prime";
    assertFalse(message, Prime.isPrime(number));
}

public void assertPrime(int number){
    String message = "" + number + " should be a prime";
    assertTrue(message, Prime.isPrime(number));
}
</code></pre>

<p>Actually in the workshop we didn’t break out the asserts into methods but went straight for the
next test code refactoring. The code under test is still naive:</p>

<pre><code>public static boolean isPrime(int number){
    if( number == 4 || number == 9 ) return false;
    return true;
}
</code></pre>

<p>Now we felt the need to introduce an easier way to test many combinations at once. This is a bit awkward in
Java and come much more natural in a dynamic language. We used the junit runner Parameterized to be able to
have one test for each prime we’d like to test while reusing as much of the test code as possible. Here is the
implementation:</p>

<pre><code>package prime;

import java.util.*;

import org.junit.*;
import org.junit.runner.*;
import org.junit.runners.*;
import org.junit.runners.Parameterized.*;

import static org.junit.Assert.*;

@RunWith(Parameterized.class)
public class TestPrime {
    private int number;
    private boolean isPrime;

    public TestPrime(int number, boolean isPrime){
        this.number = number;
        this.isPrime = isPrime;
    }

    @Parameters
    public static Collection&lt;Object[]&gt; bunchOfPrimes(){
        return Arrays.asList(new Object[][]{
            {1, true},
            {2, true},
            {3, true},
            {4, false},
            {7, true},
            {9, false},
            {10, false},
            {13, true},
            {15, false}
        });
    }

    @Test
    public void isPrime(){
        if(this.isPrime){
            assertPrime(this.number);
        } else {
            assertNotPrime(this.number);
        }
    }

    public void assertPrime(int number){
        String message = "" + number + " should be a prime";
        assertTrue(message, Prime.isPrime(number));
    }

    public void assertNotPrime(int number){
        String message = "" + number + " should not be a prime";
        assertFalse(message, Prime.isPrime(number));
    }
}
</code></pre>

<p>This is the code that I prepared before the session. When we programmed it in the session we ended up with
using <code>assertEquals</code> instead of having the helper methods and I think that was a nicer approach.</p>

<p><code>Parameterized</code> requires a method that returns test data. It should have the awkward return type
<code>Collection&lt;Object[]&gt;</code> - that is a collection of object arrays. Each member of the array should have
data so that the test class constructor can be called. In our case there is a number - the prime candidate -
and a boolean indicating if it is expected to be a prime or not. The runner creates one instance per
data point and runs all Test methods on that one. In our case there is only the <code>isPrime</code> method.</p>

<p>Now all there is left is to implement the real stuff:</p>

<pre><code>public static boolean isPrime(int number){
  for(int i = 2; i &lt; number; i++) {
    if(number % i == 0) {
      return false;
    }
  }
  return true;
}
</code></pre>

<p>and a somewhat refactored solution:</p>

<pre><code>public static boolean isPrime(int number){
  for(int i = 2; i &lt;= sqrt(number); i++) {
    int remainder = number % i;
    if(remainder == 0) {
      return false;
    }
  }
  return true;
}

private static double sqrt(int number){
  return Math.sqrt(number);
}
</code></pre>

<p>This was a fun but naive exercise. You can follow this code step-by-step in
<a href="https://github.com/froderik/javaprime">this github repo</a>.
There are commits and tags for each step in the TDD cycle. There is also a slightly more advanced example
with prime factorizations.</p>
    <center>
      ------
    </center>
    <div class="outro">
      <i>
        Even though this was the entire post you may want to leave a comment on the
        <a href="2013/04/tdding_prime_detection.html">post page</a>
        .
      </i>
    </div>
  </div>
</div>

      </div>
      <div class="footer">
        high level bits was brought to you by
        <a href="http://about.me/hardyferentschik">hardy</a>
        and
        <a href="http://about.me/fredrik.rubensson">fredrik</a>
      </div>
    </div>
  </body>
</html>
