<!DOCTYPE HTML>
<html lang="en">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <title>high level bits - </title>
    <link href="http://fonts.googleapis.com/css?family=Iceland%7CVolkhov" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="awesome/font-awesome-min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="alternate" type="application/atom+xml" title="high level bits" href="atom.xml">

    <!-- you don't need to keep this, but it's cool for stats! -->
    <meta name="generator" content="nanoc 3.6.2">

    <!-- google analytics -->
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-1370334-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
    <!-- end google analytics -->
  </head>
  <body>
    <div class="main">
      <div class="header">
        <div class="twitter-window">
          <a href="https://twitter.com/highlevelbits" class="twitter-follow-button" data-show-count="false" data-size="large">Follow @highlevelbits</a>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
        </div>
        <h1>h1ghlevelb1ts</h1>
      </div>
      <div class="menu">
        <a href="./">home</a>
        ·
        <a href="archive.html">archive</a>
        ·
        <a href="http://about.me/hardyferentschik">hardy</a>
        ·
        <a href="http://about.me/fredrik.rubensson">fredrik</a>
      </div>
      <div class="content">
        <div class="start-page">
  <div class="start-page-article">
    <div class="row">
      <h2 class="article-header">
        <a href="2013/09/pragmatic_unit_testing_with_go.html">pragmatic unit testing with go</a>
      </h2>
      <div class="byline">
        by
        fredrik
        on
        2013-09-08
      </div>
    </div>
    <p><a href="http://www.flickr.com/photos/ajstarks/8461414333"><img style="float:right" src="http://farm9.staticflickr.com/8373/8461414333_4a30e15dd3_m.jpg"></a></p>

<p>I am fortunate to code some <a href="http://golang.org/">go</a> at my new assignment. I had some two weeks with the language last fall but apart from that it is new unmarked land for me. It is a nice language that is easy to learn and does things in very different ways. You get started really fast but with that nagging feeling that there is much more to learn around the corner. I suspect that you can be really productive in go. If you like your strong types and a bit lower level than normal you will get back performance only matched by C and a robust piece of code. </p>

<p>Needless to say - the benefits of unit tests in a strongly typed and opionionated language like go is a bit lower than in dynamic languages like ruby, python and javascript. It is still necessary to keep your code base stable over time. So I have tried it out a bit. I started with the <a href="http://golang.org/pkg/testing/">standard library approach</a> where you get something like this:</p>

<pre><code>func TestSomething(t *testing.T) {
  something := false
  if something {
    t.Log("Oh noes - something is false")
    t.Fail()      
  }
}
</code></pre>

<p>Oh no. This is a bit verbose for my taste. Some four lines to do an assert…. Sure, you can add some semicolons and get in one line but with reduced readability. I sort of hoped that I had gotten something wrong here. This couldn’t possible be the way to do it? I <a href="http://stackoverflow.com/q/18637912/135673">turned to stackoverflow and asked how</a> to do it. The first two answers pretty much confirmed that this is the way to do it. Idiomatic go according to the language constructors. One of the answers stated that:</p>

<blockquote>
  <p>I discourage writing test in the way you seem to have desire for. 
It’s not by chance that the whole stdlib uses the, as you call it, 
“verbose” way.</p>
</blockquote>

<p>I elaborated my question and asked if it wouldn’t be nice to reuse a bit of code in my own assert method:</p>

<pre><code>func AssertTrue(t *testing.T, value bool, message string) {
  if value {
    t.Log(message)
    t.Fail()
  }
}
</code></pre>

<p>and use it in my test like so:</p>

<pre><code>func TestSomething(t *testing.T) {
  something := false
  AssertTrue(t, something, "Oh noes - something is false")
}
</code></pre>

<p>and I got this reply:</p>

<blockquote>
  <p>Based on your update, that is not idiomatic Go. What you are doing is in 
essence designing a test extension framework to mirror what you get in 
the XUnit frameworks. While there is nothing fundamentally wrong, from 
an engineering perspective, it does raise questions as to the value + cost 
of maintaining this extension library. Additionally, you are creating an 
in-house standard that will potentially ruffle feathers. The biggest thing 
about Go is it is not C or Java or C++ or Python and things should be done 
the way the language is constructed. </p>
</blockquote>

<p>So from this reasoning it seems like normal practices like code reuse is not applicable to go. Weird - me thinks…. So I started to give up hope about this nice little language. Fortunately a third answer (that I accepted) dropped in introducing gocheck and basically telling me that there are other opinions in the go community than the stdlib ones. Good to hear - maybe there is a place for a pragmatic programmer after all. With <a href="http://labix.org/gocheck">gocheck</a> you can do asserts easily:</p>

<pre><code>func (s *MySuite) TestSomething(c *C) { 
  something := false
  c.Check(something, Equals, true, "Oh noes - something is false") 
}
</code></pre>

<p>Works for me. I’m gonna use that for a while and see how it feels. I will - however - try to grasp the <em>go way</em> as I go and if needed will change my mind in this matter.</p>

<p>Expect more posts about go during the fall.</p>
    <center>
      ------
    </center>
    <div class="outro">
      <i>
        Even though this was the entire post you may want to leave a comment on the
        <a href="2013/09/pragmatic_unit_testing_with_go.html">post page</a>
        .
      </i>
    </div>
  </div>
  <div class="start-page-article">
    <div class="row">
      <h2 class="article-header">
        <a href="2013/09/guardi.html">guardi - painter of ruins</a>
      </h2>
      <div class="byline">
        by
        fredrik
        on
        2013-09-04
      </div>
    </div>
    <p>As <a href="http://highlevelbits.com/2013/08/italian_infrastructure.html">already reported</a> we spent a couple of weeks in Italy this summer. In Milan we went to Museo Poldi-Pezzoli, once the home of a wealthy family and now turned into a museum with a really nice selecton of paintings. I like these smaller museums. It is possible to view most of the works without getting overwhelmed. This time I fell for a painting by Fransesco Guardi (a new acquaintance for me) called <strong>Architectural Caprice with Roman Ruins</strong>. The painting shows a ‘normal’ life by the sea and upon that some large roman ruins are added. I liked the sense of how time passes but life goes on and also how the work of the ones before us still dwell among us. The ruins may be seen as a symbol for our history continuously putting its mark on our life.</p>

<p>The painting can be <a href="http://www.museopoldipezzoli.it/en/node/700">viewed online</a> at the museos web site. All rights reserved so can’t be shown here. The following paintings comes from <a href="https://commons.wikimedia.org">wikimedia commons</a>.</p>

<p><img src="https://upload.wikimedia.org/wikipedia/commons/0/09/Francesco_Guardi_009.jpg" alt=""></p>

<p><img src="https://upload.wikimedia.org/wikipedia/commons/c/c7/Francesco_Guardi_008.jpg" alt=""></p>
    <center>
      ------
    </center>
    <div class="outro">
      <i>
        Even though this was the entire post you may want to leave a comment on the
        <a href="2013/09/guardi.html">post page</a>
        .
      </i>
    </div>
  </div>
  <div class="start-page-article">
    <div class="row">
      <h2 class="article-header">
        <a href="2013/08/italian_infrastructure.html">infrastructure shots</a>
      </h2>
      <div class="byline">
        by
        fredrik
        on
        2013-08-12
      </div>
    </div>
    <p>We were fortunate enough to spend a couple of weeks in Italy. A great country always worth returning to. I read a book during the vacation about how Italy managed to become one. Seems like it was mostly a piedmontesian project when it started. Most of Italy were not that keen on the idea. Somehow they managed to pull it through but it is good to keep in mind that the different country parts have very different background, history and culture. Even the food changes a lot as you travel around. We focused on northern italy this time. We decided to go about by train and stayed in 4 cities during our trip. In this post I will show some nice shots of infrastructure (in a broad meaning) I took during the trip. Lets start in Milan with a <a href="http://www.flickr.com/photos/froderik/9374266046/">nice old tram</a>.</p>

<p><img src="http://farm8.staticflickr.com/7324/9374266046_980a707e2e_c.jpg" alt=""></p>

<p>And a <a href="www.flickr.com/photos/froderik/9376268864">strong moon</a>.</p>

<p><img src="http://farm3.staticflickr.com/2879/9376268864_440e3dd733_c.jpg" alt=""></p>

<p>From Milan we moved on for some sun and waves at the nice little town <a href="http://www.comune.sestri-levante.ge.it/">Sestri Levante</a> about an hour from Genoa. Built on a former island <a href="http://www.flickr.com/photos/froderik/9469229505">narrowly corrected</a> with the mainland it was a nice place for a amateur photographer.</p>

<p><img src="http://farm4.staticflickr.com/3665/9469229505_b921f1f9e1_c.jpg" alt=""></p>

<p>We also had some good timing with the sun that produced this <a href="www.flickr.com/photos/froderik/9472019882">awesome view</a> one of the evenings.</p>

<p><img src="http://farm4.staticflickr.com/3753/9472019882_eebc3586ed_c.jpg" alt=""></p>

<p>We moved on to Genoa (or Genova as the locals spell it). This former mechant republic used to compete with Venice on the high seas. Contrary to Venice it still is one of the important ports in Italy. We took a walk down to the 500 year old lighthouse for some <a href="http://www.flickr.com/photos/froderik/9471054149">views of the modern harbor</a>.</p>

<p><img src="http://farm8.staticflickr.com/7299/9471054149_dfe7864733_c.jpg" alt=""></p>

<p>Genoa is built where the mountains meet the mediterranean so there is a <a href="www.flickr.com/photos/froderik/9471062411">need for tunnels</a>. One of my best shots during the trip.</p>

<p><img src="http://farm6.staticflickr.com/5499/9471062411_78b6535c78_c.jpg" alt=""></p>

<p>From Genoa we continued to Bologna via Cinque Terre. It rained to we couldn’t explore the 5 villages by the sea properly. But you’ll get <a href="http://www.flickr.com/photos/froderik/9477777932">the idea</a> anyway…..</p>

<p><img src="http://farm3.staticflickr.com/2832/9477777932_651841f59d_c.jpg" alt=""></p>

<p>And <a href="http://www.flickr.com/photos/froderik/9477788986">another tunnel</a>!</p>

<p><img src="http://farm3.staticflickr.com/2855/9477788986_de2afcf87a_c.jpg" alt=""></p>

<p>Bologna is an awesome city. Despite being old and like an old museum it still is lively. Likely due to its very old university still going strong. Much of the streets in the inner city got colonnades which us just an <a href="http://www.flickr.com/photos/froderik/9487213376">awesome</a> <a href="http://www.flickr.com/photos/froderik/9484436291">thing</a> to have in a city. </p>

<p><img src="http://farm6.staticflickr.com/5449/9487213376_7c771e8e84_c.jpg" alt="">
<img src="http://farm3.staticflickr.com/2819/9484436291_3428fb4370_c.jpg" alt=""></p>

<p>After Bologna we turned north and spend a couple of days in Innsbruck and München on our way home. All in all a good trip. All the <a href="http://www.flickr.com/photos/froderik/">pictures from the trip</a> can be found at flickr.</p>
    <center>
      ------
    </center>
    <div class="outro">
      <i>
        Even though this was the entire post you may want to leave a comment on the
        <a href="2013/08/italian_infrastructure.html">post page</a>
        .
      </i>
    </div>
  </div>
</div>

      </div>
      <div class="footer">
        high level bits was brought to you by
        <a href="http://about.me/hardyferentschik">hardy</a>
        and
        <a href="http://about.me/fredrik.rubensson">fredrik</a>
      </div>
    </div>
  </body>
</html>
