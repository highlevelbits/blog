<!DOCTYPE HTML>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<title>high level bits - My precious wiki</title>
<link href="http://fonts.googleapis.com/css?family=Iceland%7CVolkhov" rel="stylesheet" type="text/css">
<link href="../../awesome/font-awesome-min.css" rel="stylesheet">
<link href="../../style.css" rel="stylesheet">
<link href="../../forms.css" rel="stylesheet">
<link rel="alternate" type="application/atom+xml" title="high level bits" href="../../atom.xml">
<!-- you don't need to keep this, but it's cool for stats! --><meta name="generator" content="nanoc 3.6.5">
<!-- google analytics --><script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-1370334-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script><!-- end google analytics -->
</head>
<body>
    <div class="main">
      <div class="header">
        <div class="twitter-window">
          <a href="https://twitter.com/highlevelbits" class="twitter-follow-button" data-show-count="false" data-size="large">Follow @highlevelbits</a>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</div>
        <h1>h1ghlevelb1ts</h1>
      </div>
      <div class="menu">
        <a href="../../">home</a>
        ·
        <a href="../../archive.html">archive</a>
        ·
        <a href="http://about.me/hardyferentschik">hardy</a>
        ·
        <a href="http://about.me/fredrik.rubensson">fredrik</a>
      </div>
      <div class="content">
        <h2 class="article-header">
  My precious wiki
</h2>
<span class="byline">2011-11-04 by hardy</span>

  <span class="tags">
    
      <a class="one-tag" href="#ruby"><span class="icon-tag"></span>ruby</a>
    
      <a class="one-tag" href="#openshift"><span class="icon-tag"></span>openshift</a>
    
      <a class="one-tag" href="#gollum"><span class="icon-tag"></span>gollum</a>
    
  </span>

<p>Ever wanted a simple wiki, which you can edit on- or offline? A wiki which is easy to back up<br>and does versioning. And what's about some free hosting as well?<br><br>I am a big proponent of running a personal wiki to capture and organize thoughts. In case you don't agree, I recommend you read Any Hunt's "<a href="http://www.amazon.com/Pragmatic-Thinking-Learning-Refactor-Programmers/dp/1934356050">Pragmatic Thinking and Learning</a>".<br><br>Self I have been running <a href="http://info.tiki.org/Tiki+Wiki+CMS+Groupware">Tiki Wiki</a> for a long time, but it is quite heavy weight, requires a database and constant upgrading. I was always looking for something more lightweight and now I found it - <a href="https://github.com/github/gollum">gollum</a>. A lightweight racks app which works either via a webinterface or by simple text file editing on the file system.<br><br>Running gollum locally is as easy as:</p>
<pre class="code">
$ gem install gollum
$ gollum</pre>
<p>However, how can I host this without spending any money. One way might be <a href="http://www.heroku.com/">Heroku</a>, but I recently became a fan of RedHat's <a href="https://openshift.redhat.com/app">OpenShift</a>. The Express version is free and offers a range of different hosting catridges, including a racks one. Let's see how easy it is to get your wiki hosted on OpenShift.<br><br>First you need to sign up for an account. Once that is done you install the command line tools for OpenShift Express via:</p>
<pre>
$ gem install rhc
</pre>
<p>Now let's create a domain and app for your wiki:</p>
<pre class="code">
$ rhc-create-domain -n <your-domain> -l <email>
$ rhc-create-app -a wiki -t rack-1.1 -l <email></email></email></your-domain></pre>
<p>Once you ran this commands you should have a local git checkout in the directory wiki and a running application under http://wiki-<your-domain>-rhcloud.com.<br><br>Next we need to install gollum. Let's change into the <i>wiki</i> directory. First open <i>.openshift/action_hooks/build</i> and just add the line</your-domain></p>
<pre class="code">
export </pre>
<p>Now commit this change and push the change to origin:</p>
<pre class="code">
git commit -a -m "Adding 'export' in order to display environment settings"
git push origin master  </pre>
<p>You will see that on top of the usual git commit messages there are several OpenShift things happening.The export command will be run after <a href="http://gembundler.com/">bundler</a> and dump a whole bunch of settings.We will need some to complete the gollum configuration.Next create a Gemfile and add the following:</p>
<pre class="code">
source 'http://rubygems.org'

gem 'rack', '1.1.0'
gem 'gollum' </pre>
<p>Then open config.ru and change to this (delete the current content):</p>
<pre class="code">
require "rubygems"
Bundler.require(:default)

require "gollum/frontend/app"

use Rack::Auth::Basic, "My wiki - authenticate!" do |username, password|
  [username, password] == ['wiki', 'wiki']
end

Precious::App.set(:gollum_path, '<full git="" path="" repo="" to="">')
Precious::App.set(:wiki_options, {})
run Precious::App
</full></pre>
<p>You need to replace <full git="" path="" repo="" to=""> with the actual path you see in the environment dump.<br>Currently it the line you are after looks like this:</full></p>
<pre class="code">
remote: declare -x PWD="/var/lib/whatever/whatever/git/wiki.git"
</pre>
<p><i>/var/lib/whatever/whatever/git/wiki.git</i> is the part you are after. As you can see I am using Rack::Auth::Basic for basic authentication, but you can plug something elsein if you like.Now lets lock the gems using bundler and also package them: </p>
<pre class="code">
bundle install
bundle package
</pre>
<p>Add everything to the repo, commit and push.<br>Enjoy your wiki,<br>Hardy</p>
<p> </p>
<div class="old-comments">
<h2>Old comments</h2>
<div class="one-old-comment">
<span class="comment-date">2011-11-06</span><span class="commenter-name">Fredrik Rubensson</span><div class="comment-body">Sweet! (Ruby got lots of nice things!) I never felt I needed my own wiki. What do you put in it?</div>
</div>
<div class="one-old-comment">
<span class="comment-date">2011-11-09</span><span class="commenter-name">Hardy Ferentschik</span><div class="comment-body">Well, I keep a page for one liners or other work arounds. This way I can find things easily and once in a while there is enough material for a blog. Also other general blog/presentation ideas are kept in the wiki initially where they are refined until released into the wild :-)</div>
</div>
<div class="one-old-comment">
<span class="comment-date">2011-11-09</span><span class="commenter-name">Fredrik Rubensson</span><div class="comment-body">Sweet. Oneliners can be handy - I should do that too. The other stuff I keep in a basecamp project nowadays.</div>
</div>
<div class="one-old-comment">
<span class="comment-date">2013-02-06</span><span class="commenter-name">SweetyHeadvi</span><div class="comment-body">Howdy! I'm at work surfing around your blog from my new iphone 4! Just wanted to say I love reading your blog and look forward to all your posts! Keep up the fantastic work!

http://google.cox</div>
</div>
</div>

<div class="dashed-top-border">
  <!-- disqus -->
  <div id="disqus_thread"></div>
  <script type="text/javascript">
      /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
      var disqus_shortname = 'highlevelbits'; // required: replace example with your forum shortname

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
  </script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
  <!-- end disqus -->
</div>


  <div class="dashed-top-border">
    
      <h4><a name="ruby">Other articles tagged ruby</a></h4>
      <ul>
<li>
            <a href="../06/nordic-ruby.html">nordic ruby</a> on 2011-06-19
          </li>
        
          <li>
            <a href="../12/programming-languages-in-2012.html">Programming languages in 2012</a> on 2011-12-28
          </li>
        
          <li>
            <a href="../../2009/02/introduction-to-ruby-on-rails-for-java.html">Introduction to Ruby on Rails for Java developers</a> on 2009-02-22
          </li>
        
          <li>
            <a href="../../2013/04/nanoc.html">moving from drupal to nanoc</a> on 2013-04-13
          </li>
        
          <li>
            <a href="../../2010/02/buildr-overview.html">buildr overview</a> on 2010-02-24
          </li>
        
          <li>
            <a href="../../2007/03/trends-in-sales-of-programming-language.html">Trends in sales of programming language books (and some lamenting)</a> on 2007-03-05
          </li>
        
          <li>
            <a href="../../2007/02/no-such-file-or-directory-tmpmysqlsock.html">No such file or directory - /tmp/mysql.sock</a> on 2007-02-13
          </li>
        
          <li>
            <a href="../../2007/02/there-is-hope-despite-everything.html">There is hope - despite everything</a> on 2007-02-08
          </li>
        
      </ul>
<h4><a name="openshift">Other articles tagged openshift</a></h4>
      <ul>
<li>
            <a href="../12/openshift-and-drupal.html">OpenShift and Drupal</a> on 2011-12-29
          </li>
        
          <li>
            <a href="gollum-wiki-reloaded.html">Gollum wiki reloaded</a> on 2011-11-17
          </li>
        
      </ul>
<h4><a name="gollum">Other articles tagged gollum</a></h4>
      <ul>
<li>
            <a href="gollum-wiki-reloaded.html">Gollum wiki reloaded</a> on 2011-11-17
          </li>
        
      </ul>
</div>


      </div>
      <div class="footer">
        high level bits was brought to you by
        <a href="http://about.me/hardyferentschik">hardy</a>
        and
        <a href="http://about.me/fredrik.rubensson">fredrik</a>
      </div>
    </div>
  </body>
</html>
